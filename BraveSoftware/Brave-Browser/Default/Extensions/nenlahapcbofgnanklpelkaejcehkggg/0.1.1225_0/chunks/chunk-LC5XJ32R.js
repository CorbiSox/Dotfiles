import{q as M}from"./chunk-52XVUBCW.js";import{b as g,c as h,e as A}from"./chunk-3GYLW4KZ.js";function U(e){if(e&&!e.includes("-")){let n=e.split("");return[20,16,12,8].forEach(t=>n.splice(t,0,"-")),n.join("")}return e}var R=g(()=>{"use strict"});var P=h((F,b)=>{"use strict";function v(e,n){return Object.prototype.hasOwnProperty.call(e,n)}b.exports=function(e,n,t,c){n=n||"&",t=t||"=";var r={};if(typeof e!="string"||e.length===0)return r;var i=/\+/g;e=e.split(n);var o=1e3;c&&typeof c.maxKeys=="number"&&(o=c.maxKeys);var a=e.length;o>0&&a>o&&(a=o);for(var p=0;p<a;++p){var f=e[p].replace(i,"%20"),m=f.indexOf(t),y,I,u,l;m>=0?(y=f.substr(0,m),I=f.substr(m+1)):(y=f,I=""),u=decodeURIComponent(y),l=decodeURIComponent(I),v(r,u)?Array.isArray(r[u])?r[u].push(l):r[u]=[r[u],l]:r[u]=l}return r}});var C=h((L,x)=>{"use strict";var d=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};x.exports=function(e,n,t,c){return n=n||"&",t=t||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(r){var i=encodeURIComponent(d(r))+t;return Array.isArray(e[r])?e[r].map(function(o){return i+encodeURIComponent(d(o))}).join(n):i+encodeURIComponent(d(e[r]))}).filter(Boolean).join(n):c?encodeURIComponent(d(c))+t+encodeURIComponent(d(e)):""}});var w=h(s=>{"use strict";s.decode=s.parse=P();s.encode=s.stringify=C()});function S({params:e={},isWbPublisher:n=!1,sessionId:t,WIKIBUY_API:c}={}){let r={...K};n&&(r.channel="cashback-ims",r.userId=t,r.wbPublisher="wb"),e.vendorMetaId&&(r.credits=!0);let i={...r,...(0,O.pickBy)(e,(o,a)=>o!=null&&D.includes(a))};return i.redirectId&&(i.redirectId=U(i.redirectId)),`${c}/redirectV2?${E.default.stringify(i)}`}var O,E,D,K,_=g(()=>{"use strict";O=A(M()),E=A(w());R();D=["autoRedirect","channel","clickEvent","credits","destDomain","destUrl","redirectId","sameTab","subExperience","userId","vendorMetaId","wbPublisher","runId"],K={autoRedirect:!0,credits:!1,experience:"extension"}});export{w as a,U as b,R as c,S as d,_ as e};
